TwitCasting Recorder テストチェックリスト v1
作成日時: 2025-08-18 03:57:01

使い方:
- 各テストを上から順に実施し、□を■に、必要項目を記入してください。
- 失敗時は「原因メモ」にログ末尾/スクショ名/再現手順を簡潔に追記。

共通ルール:
- URLは必ず /broadcaster を優先（公開配信はチャンネル直URLも可）。
- 合格判定(10秒基準): MP4 >= 500KB かつ 平均ビットレート >= 300kbps、m3u8を取得、重大エラーなし。
- Cookie鮮度: cookies_m3u8_* のタイムスタンプが cookies_enter_* より新しいこと。
- 消してOK: logs/cookies_*.txt と 小容量テストmp4（100〜300KB級）。
- 消すな: .auth/ (永続プロファイル)。Chromeは × で閉じる。タスクマネージャKill禁止。

----------------------------------------
A. ヘッドレス安定化（最優先）
----------------------------------------

A-1 公開配信 × ヘッドレスON
□ ヘッドレス: ON   デバッグ: OFF   ストレス: OFF(1回)
□ GUI表示: LOGIN = strong を確認
□ 実行: 10秒テスト（公開）
結果:
  MP4サイズ: ______KB    平均ビットレート: ______kbps
  m3u8 URL: ____________________________________________
  cookies_enter: ____:____:____   cookies_m3u8: ____:____:____  (m3u8が新しい? □Yes/□No)
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

A-2 年齢制限 × ヘッドレスON
□ ヘッドレス: ON   デバッグ: OFF   ストレス: OFF(1回)
□ GUI表示: LOGIN = strong を確認
□ 実行: 10秒テスト（年齢制限）
結果:
  MP4サイズ: ______KB    平均ビットレート: ______kbps
  m3u8 URL: ____________________________________________
  cookies_enter: ____:____:____   cookies_m3u8: ____:____:____  (m3u8が新しい? □Yes/□No)
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

A-3 OS再起動後 × ヘッドレスON
□ Windows再起動 → GUI起動
□ GUI表示: LOGIN = strong を確認（strongでなければログインセットアップ）
□ 実行: 10秒テスト（公開 or 年齢制限）
結果:
  起動したChromeウィンドウ数(目視): ____ 個（GUI除く）
  MP4サイズ: ______KB    平均ビットレート: ______kbps
  警告/エラー: □なし / □あり（内容: _______________________________）
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

----------------------------------------
B. 連続実行の健全性（増殖/セッション切れ）
----------------------------------------

B-1 同URL 10秒×2（ヘッドレスON）
□ 設定: ヘッドレスON、デバッグOFF、ストレスOFF
□ 実行1回目  MP4: ______KB / ______kbps   結果: □成功 / □失敗
□ 実行2回目  MP4: ______KB / ______kbps   結果: □成功 / □失敗
□ Chrome増殖なし（目視）: □Yes / □No
□ Context closed / Cookie save error 警告なし: □Yes / □No
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

B-2 同URL 10秒×2（ヘッドレスOFF）
□ 設定: ヘッドレスOFF、デバッグON可、ストレスOFF
□ 実行1回目  MP4: ______KB / ______kbps   結果: □成功 / □失敗
□ 実行2回目  MP4: ______KB / ______kbps   結果: □成功 / □失敗
□ Chrome増殖なし（目視）: □Yes / □No
□ Context closed 警告なし: □Yes / □No
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

B-3 ブラウザ全終了 → 復旧SOP
□ すべてのChromeを手で閉じる（Killはしない）
□ GUIでログインセットアップ → LOGIN = strong 確認
□ 10秒テスト実行（公開 or 年齢制限）
結果:
  復旧に要した操作: ______________________________________
  復旧に要した時間: ______ 秒
  MP4: ______KB / ______kbps   結果: □成功 / □失敗
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

----------------------------------------
C. 長時間＆耐障害
----------------------------------------

C-1 年齢制限 10〜30分録画
□ 設定: 安定構成（ヘッドレスOFF推奨 / strong 確認）
□ 実行: ______ 分
結果:
  完走: □Yes / □No（中断理由: ____________________________）
  MP4総サイズ: ______MB    推定平均ビットレート: ______kbps
  重大エラー: □なし / □あり（種類: _______________________）
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

C-2 ネット瞬断耐性（余裕があれば）
□ 軽いWi-Fi切替/OFF-ON で瞬断を作る（1回）
結果:
  録画継続: □自動継続 / □自動再接続 / □停止
  断発生時間: __:__:__   復帰時間: __:__:__   ログ抜粋保存: □済
合否: □合格 / □不合格
原因メモ: _____________________________________________________________

----------------------------------------
D. 匿名HLS検知（小容量しきい値の確定）
----------------------------------------

D-1 未ログイン（LOGIN: none）で10秒（公開）
□ あえてログインしない状態を作る → 10秒テスト
結果:
  MP4サイズ: ______KB（100〜300KBなら匿名HLSの指標）
  ログ: m3u8種別/403有無: __________________________
しきい値メモ:
  実測最小成功サイズ(10秒): ______KB
  匿名HLSと判断するサイズしきい値: ______KB 以上/未満で判定

----------------------------------------
スクショ/ログの保管推奨（各テスト共通）
- GUI設定画面（ヘッドレス/デバッグ/ストレス、LOGIN表示）
- テスト結果ログ末尾20行（m3u8 と MP4サマリ）
- タスクマネージャのchrome.exe一覧（コマンドライン列があると尚良）
- エクスプローラでのMP4サイズ表示
- logs/ の cookies_enter_* / cookies_m3u8_*（タイムスタンプ）

備考メモ:
______________________________________________________________________
______________________________________________________________________
